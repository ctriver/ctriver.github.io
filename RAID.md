# RAID
操作系统和存储系统这两个层次中都可能使用条带化技术。多个层次上使用条带化对数据流量、吞吐量有什么影响？

影响条带化效果的两个因素：条带大小，条带宽度。条带大小对性能的影响比条带宽度难以量化的多。
- 减小条带大小: 由于条带大小减小了，则文件被分成了更多个，更小的数据块。这些数据块会被分散到更多的硬盘上存储，因此提高了传输的性能，但是由于要多次寻找不同的数据块，磁盘定位的性能就下降了。
- 增加条带大小: 与减小条带大小相反，会降低传输性能，提高定位性能。
        对于大多数应用来说，可以参考这样的经验法则:大量的小文件读写时，采用较大的条带大小（定位效果好）;少量的大文件的快速访问，采用比较小的条带（传输速率高）；如果要平衡这两者，那么采用中间值。
![RAID比较](_v_images/20200314185217837_11369.png)
![RAID比较](_v_images/20200408144227756_27097.png)
## RAID磁盘故障概率
![RAID5 磁盘故障概率](_v_images/20200315050716901_1513.jpg)

## 写惩罚
- 计算IOPS
物理磁盘总的IOPS = 物理磁盘的IOPS × 磁盘数目
可用的IOPS = （物理磁盘总的IOPS × 写百分比 ÷ RAID写惩罚） + （物理磁盘总的IOPS × 读百分比）
RAID6的硬盘负载=0.8x10000+0.2x10000x6（RAID6写惩罚是6）=20000 IOPS。（需求是10kIOPS，读写8:2），计算需要多少盘，做RAID6.

[不同级别RAID对容量和性能的影响](https://forum.huawei.com/enterprise/zh/thread-371019-1-1.html)
